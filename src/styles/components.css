:root{
  --bg-1: #081226;
  --bg-2: #071029;
  --card-start: rgba(255,255,255,0.03);
  --card-end: rgba(255,255,255,0.015);
  --accent-a: #00d4ff;
  --accent-b: #7c5cff;
  --muted: #9aa4b2;
  --glass: rgba(255,255,255,0.04);
  --radius: 14px;
  --shadow-lg: 0 12px 30px rgba(2,6,23,0.6);
  --transition-fast: 140ms;
  --max-width: 920px;
}

/* Reset minimo */
* { box-sizing: border-box; }
html,body,#root { height: 100%; }
body {
  margin: 0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg, var(--bg-1) 0%, var(--bg-2) 100%);
  color: #e6eef8;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  padding: 20px;
}

/* Container principale */
.app-container{
  max-width: var(--max-width);
  margin: 20px auto;
  padding: 22px;
  background: linear-gradient(180deg, var(--card-start), var(--card-end));
  border-radius: var(--radius);
  box-shadow: var(--shadow-lg);
  border: 1px solid rgba(255,255,255,0.04);
  backdrop-filter: blur(6px) saturate(120%);
}

/* Header */
.header {
  display:flex;
  align-items:center;
  gap:14px;
  margin-bottom: 14px;
}
.logo {
  width:56px;
  height:56px;
  border-radius:12px;
  background: linear-gradient(135deg,var(--accent-a), var(--accent-b));
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:#041026;
  box-shadow: 0 6px 20px rgba(12,18,34,0.6);
  transform: rotate(-8deg);
  flex-shrink:0;
}
h2 { margin:0; font-size:20px; line-height:1; }
.lead { margin:6px 0 0 0; color:var(--muted); font-size:13px; }

/* Filter row */
.filter-row{
  display:flex;
  gap:12px;
  align-items:center;
  margin:16px 0;
  flex-wrap:wrap;
}
select {
  background:var(--glass);
  color:var(--accent-a);
  border:1px solid rgba(255,255,255,0.04);
  padding:8px 12px;
  border-radius:10px;
  outline:none;
  min-width:110px;
}

/* Input row */
.input-row{
  display:flex;
  gap:10px;
  align-items:center;
  margin-bottom:14px;
}
.main-input{
  flex:1;
  padding:12px 14px;
  border-radius:12px;
  border:none;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color: #eef7ff;
  font-size:14px;
  box-shadow: inset 0 -1px 0 rgba(255,255,255,0.02);
  min-width: 0;
}
.main-input::placeholder { color: rgba(230,240,255,0.5); }

.f-input{
  min-width:180px;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(124,92,255,0.18);
  background: linear-gradient(180deg, rgba(124,92,255,0.06), rgba(0,0,0,0.02));
  color:#fff;
}

/* Buttons */
button{
  background: linear-gradient(90deg,var(--accent-a),var(--accent-b));
  color:#041026;
  border:none;
  padding:10px 14px;
  border-radius:10px;
  cursor:pointer;
  font-weight:600;
  box-shadow: 0 8px 18px rgba(7,20,40,0.45);
  transition: transform var(--transition-fast) ease, box-shadow var(--transition-fast) ease, opacity var(--transition-fast) ease;
}
button:hover{ transform: translateY(-3px); box-shadow: 0 14px 28px rgba(7,20,40,0.55); }
button:active{ transform: translateY(-1px); }
button:focus-visible { outline: 3px solid rgba(0,212,255,0.18); outline-offset: 3px; }

/* List */
.todo-list{
  margin:18px 0;
  padding:0;
  list-style:none;
  display:grid;
  gap:10px;
}

/* Todo item base */
.todo-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px;
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.03);
  transition: transform var(--transition-fast) ease, box-shadow var(--transition-fast) ease;
}
.todo-item:hover{ transform: translateY(-4px); box-shadow: 0 10px 30px rgba(3,8,23,0.6); }

/* Row che contiene checkbox + testo (sempre orizzontale) */
.todo-row {
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
  flex: 1 1 auto;
}

/* Wrapper principale per testo + azioni (desktop default in row) */
.todo-main {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 12px;
  width: 100%;
  min-width: 0;
  flex-wrap: nowrap;
}

/* Testo: su desktop rimane su una riga con ellipsis, su mobile si va a capo ma non sovrappone */
.todo-text {
  flex: 1 1 auto;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 1.3;
  word-break: break-word;
}

/* Stato completato */
.todo-text.done{
  text-decoration:line-through;
  color:var(--muted);
}

/* Azioni: non si riducono troppo su desktop */
.todo-actions {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
  margin-left: 12px;
}

/* Bottoni */
.btn-delete {
  margin: 0;
  padding: 6px 10px;
  background: transparent;
  border: 1px solid rgba(255,255,255,0.04);
  color: #ffdfe8;
  border-radius: 8px;
  font-weight: 600;
}

/* Checkbox styling */
input[type="checkbox"]{
  width:18px;
  height:18px;
  accent-color: var(--accent-b);
}

/* meta & summary */
.summary{ color:var(--muted); margin-bottom:6px; font-size:13px; }
.meta{ color:var(--muted); font-size:12px; margin-top:8px; }
.actions { margin-top:10px; }

/* Notes */
.notes{ color:var(--muted); font-size:13px; margin-top:16px; }

/* Small utilities */
.row { display:flex; gap:8px; align-items:center; }

.todo-text, .todo-item, .main-input, .f-input {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
}

/* Accessibility helpers */
a,button,input,select,textarea { font-family: inherit; }
:focus { outline-offset: 2px; }

/* Smooth transitions for theme changes */
* { transition: background-color var(--transition-fast) ease, color var(--transition-fast) ease; }

/* -------------------------
   Responsive behavior
   - Desktop/tablet: single-row layout (checkbox + text + actions)
   - Mobile (<=600px): checkbox and text stay on same line; actions stack below and button is full-width
   - Avoid overlaps: use gaps, full-width elements, and explicit ordering
   ------------------------- */

@media (max-width: 600px) {
  .app-container { padding: 16px; margin: 12px; border-radius: 12px; }
  .header { gap:10px; }
  .logo { width:48px; height:48px; }
  h2 { font-size:18px; }
  .filter-row { gap:8px; }
  .input-row { flex-direction: column; align-items: stretch; gap:8px; }
  .f-input { width:100%; min-width:0; }
  .main-input { width: 100%; }
  button { width:100%; padding: 12px; border-radius:12px; }

  .todo-list { gap:8px; }
  .todo-item {
    display: flex;
    flex-direction: column; /* stack principale: prima row (checkbox+text), poi actions */
    align-items: stretch;
    padding: 10px;
    gap: 8px;
  }

  /* Mantieni checkbox + testo sempre su una riga */
  .todo-row {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 10px;
    width: 100%;
    min-width: 0;
  }

  /* Testo su mobile: puÃ² andare a capo ma non sovrapporre elementi */
  .todo-text {
    white-space: normal;
    overflow: visible;
    text-overflow: clip;
    display: block;
  }

  /* Actions: bottone sotto la row, full width */
  .todo-actions {
    width: 100%;
    display: flex;
    justify-content: stretch;
    margin-left: 0;
  }

  /* Bottone: occupa tutta la larghezza disponibile nel contenitore actions */
  .btn-delete {
    width: 100%;
    padding: 10px 12px;
    align-self: stretch;
    box-sizing: border-box;
  }

  /* Input row children full width */
  .input-row > * { width: 100%; }

  /* Forza reflow corretto per prevenire sovrapposizione su iOS/Android */
  .todo-item, .todo-row, .todo-actions { -webkit-transform: translateZ(0); transform: translateZ(0); }
}

/* Tablet intermediate tweaks to avoid early wrapping */
@media (min-width: 601px) and (max-width: 900px) {
  .app-container { padding:20px; }
  .input-row { gap:8px; }
  .f-input { min-width:150px; }
  button { padding:10px 12px; }
  .todo-text { white-space: nowrap; text-overflow: ellipsis; overflow: hidden; }
}

/* Desktop wide */
@media (min-width: 901px) {
  .app-container { padding:28px; }
  .input-row { align-items:center; }
  .f-input { min-width:180px; }
  button { padding:10px 14px; }
}
